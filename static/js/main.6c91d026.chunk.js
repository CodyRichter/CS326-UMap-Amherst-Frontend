(this["webpackJsonpumap-amherst-frontend"]=this["webpackJsonpumap-amherst-frontend"]||[]).push([[0],{262:function(e){e.exports=JSON.parse('[{"featureType":"poi.attraction","stylers":[{"visibility":"off"}]},{"featureType":"poi.business","stylers":[{"visibility":"off"}]},{"featureType":"poi.government","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","stylers":[{"visibility":"off"}]},{"featureType":"poi.park","stylers":[{"visibility":"off"}]},{"featureType":"poi.place_of_worship","stylers":[{"visibility":"off"}]},{"featureType":"poi.school","stylers":[{"visibility":"off"}]},{"featureType":"poi.school","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.school","elementType":"labels.icon","stylers":[{"color":"#651021"},{"visibility":"off"}]},{"featureType":"poi.sports_complex","stylers":[{"visibility":"off"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"color":"#C0C0C0"}]}]')},314:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(33),l=a.n(n),i=a(57),r=a(25),o=a(6),d=a(399),j=a(401),u=a(330),b=a(400),h=a(384),m=a(385),O=a(88),x=a(231),g=a(3);function p(e){var t=a(262),c=Object(s.useState)(null),n=Object(o.a)(c,2),l=n[0],i=n[1],r=Object(s.useState)(null),d=Object(o.a)(r,2),j=d[0],u=d[1];return Object(s.useEffect)((function(){!function(){if(l&&j&&e.route){if(!e.route)return;var t=function(e){var t=[];return e.routes[0].legs[0].steps.forEach((function(e,a){t.push({lat:e.start_location.lat,lng:e.start_location.lng}),t.push({lat:e.end_location.lat,lng:e.end_location.lng})})),t}(e.route);new j.Polyline({path:t,geodesic:!0,strokeColor:"#389C29",strokeOpacity:1,strokeWeight:3}).setMap(l)}}()}),[e.route]),Object(g.jsx)(x.a,{defaultCenter:{lat:42.389564,lng:-72.526512},defaultZoom:16,onGoogleApiLoaded:function(e){var t=e.map,a=e.maps;i(t),u(a)},yesIWantToUseGoogleMapApiInternals:!0,bootstrapURLKeys:{key:"AIzaSyAz2oL1-IeVDxCY7lWV2ivTZ3LIpEkrWEE"},options:{disableDefaultUI:!0,draggable:!0,keyboardShortcuts:!1,scaleControl:!0,styles:t,draggableCursor:"grab",draggingCursor:"grabbing"}})}var v=a(34),f=a.n(v);function y(){var e=Object(s.useState)([{classname:"Today",time:"No Upcoming Classes",buildingname:"",room:""}]),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([{time:"",location:"No Pitstops"}]),l=Object(o.a)(n,2),r=l[0],x=l[1],v=Object(s.useState)("No more classes today."),y=Object(o.a)(v,2),I=y[0],C=y[1],S=Object(s.useState)(null),N=Object(o.a)(S,2),k=N[0],w=N[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("user")&&localStorage.getItem("user")[0]?JSON.parse(localStorage.getItem("user"))[0]:{},t=e?e.id:-1;-1!==t&&void 0!==t?f.a.request({method:"get",url:"https://cs326-umap-amherst.herokuapp.com/home?userID="+t}).then((function(e){c(e.data.classes),x(e.data.stops),C(e.data.timeUntilNextClass),w(e.data.route)})).catch((function(e){console.log("Unable to connect to backend to load data.")})):console.log("No user found. Current user data"+localStorage.getItem("user"))}),[]),Object(g.jsxs)(d.a,{container:!0,spacing:3,children:[Object(g.jsx)(d.a,{item:!0,xs:4,children:Object(g.jsxs)(d.a,{container:!0,spacing:2,children:[Object(g.jsx)(d.a,{item:!0,xs:12,children:Object(g.jsx)(b.a,{children:Object(g.jsxs)(j.a,{children:[Object(g.jsx)(u.a,{variant:"h6",children:"Account Information"}),Object(g.jsxs)(d.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(g.jsx)(d.a,{item:!0,xs:2,children:Object(g.jsx)(h.a,{fontSize:"large"})}),Object(g.jsx)(d.a,{item:!0,xs:10,children:localStorage.getItem("user")&&localStorage.getItem("user")[0]?Object(g.jsx)(u.a,{variant:"body1",children:JSON.parse(localStorage.getItem("user"))[0].email}):Object(g.jsx)(u.a,{variant:"body1",children:"Not Logged In."})})]})]})})}),Object(g.jsx)(d.a,{item:!0,xs:12,children:Object(g.jsx)(b.a,{children:Object(g.jsxs)(j.a,{children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(u.a,{variant:"h6",children:"Upcoming Classes"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(i.b,{to:"/classes",children:Object(g.jsx)(O.a,{size:"small",variant:"outlined",children:Object(g.jsx)(m.a,{})})})})]}),0===a.length&&Object(g.jsx)(u.a,{variant:"body1",children:"No more classes today."}),a.map((function(e,t){return Object(g.jsxs)(u.a,{variant:"body1",children:[e.classname,": ",e.buildingname," ",e.room,"  ",Object(g.jsx)("b",{children:e.time})]},t)}))]})})}),Object(g.jsx)(d.a,{item:!0,xs:12,children:Object(g.jsx)(b.a,{children:Object(g.jsxs)(j.a,{children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(u.a,{variant:"h6",children:"Scheduled Pit Stops"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(i.b,{to:"/stops",children:Object(g.jsx)(O.a,{size:"small",variant:"outlined",children:Object(g.jsx)(m.a,{})})})})]}),0===r.length&&Object(g.jsx)(u.a,{variant:"body1",children:"No more pitstops today."}),r.map((function(e,t){return Object(g.jsxs)(u.a,{variant:"body1",children:[e.location,"  ",Object(g.jsx)("b",{children:e.time})]},t)}))]})})}),Object(g.jsx)(d.a,{item:!0,xs:12,children:Object(g.jsx)(b.a,{children:Object(g.jsxs)(j.a,{children:[Object(g.jsx)(u.a,{variant:"h6",children:"Time Until Next Class"}),Object(g.jsx)(u.a,{variant:"body1",children:I})]})})})]})}),Object(g.jsx)(d.a,{item:!0,xs:8,className:"mapContainer",children:Object(g.jsx)(p,{route:k})})]})}var I=a(7),C=a(66),S=a.n(C),N=a(29),k=a(100),w=a(39),D=a(23),T=a(160),E=a(70),L=a(46),M=a(107),B=a(159),A=a(76),F=a(73),W=a.n(F);function U(){var e=R();Object(s.useEffect)((function(){Object(k.a)(S.a.mark((function e(){var t,a,s,l,i,r,o,d,j,u,b,h,m,O,x,g,p;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==c.loaded||!1!==c.validID){e.next=42;break}if(t=localStorage.getItem("user")&&localStorage.getItem("user")[0]?JSON.parse(localStorage.getItem("user"))[0]:{},a=t?t.id:-1,s=t.email?t.email.split("@")[0]:"",!(Number.isInteger(a)&&a>=0)){e.next=41;break}return e.next=7,f.a.get(c.backend+"/classOptions");case 7:return l=e.sent,e.next=10,f.a.get(c.backend+"/buildings");case 10:return i=e.sent,e.next=13,f.a.get(c.backend+"/userclasses",{params:{userID:a}});case 13:r=e.sent,o=[],r.data.results.map((function(e){return o.push(e.class)})),d=[],j=0;case 18:if(!(j<o.length)){e.next=26;break}return e.next=21,f.a.get(c.backend+"/classes",{params:{id:o[j]}});case 21:u=e.sent,d.push(u.data.results[0]);case 23:j++,e.next=18;break;case 26:b=[],h=0;case 28:if(!(h<d.length)){e.next=36;break}return e.next=31,f.a.get(c.backend+"/buildings",{params:{id:d[h].building}});case 31:m=e.sent,b.push(m.data.results[0].name);case 33:h++,e.next=28;break;case 36:for(O=[],x=0;x<d.length;x++)g="",!0===d[x].monday&&(g+="Mon "),!0===d[x].tuesday&&(g+="Tues "),!0===d[x].wednesday&&(g+="Wed "),!0===d[x].thursday&&(g+="Thurs "),!0===d[x].friday&&(g+="Fri "),p={name:d[x].name,room:d[x].room,time:d[x].time,building:b[x],days:g},O.push(p);n(Object(N.a)(Object(N.a)({},c),{},{loaded:!0,validID:!0,userID:a,email:s,availableClasses:l.data.results,availableBuildings:i.data.results,currentClasses:r.results,classList:O})),e.next=42;break;case 41:n(Object(N.a)(Object(N.a)({},c),{},{loaded:!0,validID:!1,userID:a}));case 42:case"end":return e.stop()}}),e)})))()}));var t=Object(s.useState)({name:"",days:"",building:"",hour:"",minute:"",time:"",room:"001",classList:[],classSelectDOM:[],buildingSelectDOM:[],availableClasses:[],availableBuildings:[],currentClasses:[],keyVal:0,loaded:!1,validID:!1,userID:0,email:"",backend:"https://cs326-umap-amherst.herokuapp.com"}),a=Object(o.a)(t,2),c=a[0],n=a[1],l=function(e){var t=e.target.name;n(Object(N.a)(Object(N.a)({},c),{},Object(I.a)({},t,e.target.value)))};c.classSelectDOM=[];for(var r=0;r<c.availableClasses.length;r++){var d=Object(g.jsx)(E.a,{value:c.availableClasses[r].name,children:c.availableClasses[r].name},c.keyVal++);c.classSelectDOM.push(d)}c.buildingSelectDOM=[];for(var j=0;j<c.availableBuildings.length;j++){var u=Object(g.jsx)(E.a,{value:c.availableBuildings[j].name,children:c.availableBuildings[j].name},c.keyVal++);c.buildingSelectDOM.push(u)}for(var b=[],h=function(e){var t=Object(g.jsxs)("div",{className:"classes-list-item",children:[Object(g.jsxs)("div",{children:[c.classList[e].name," ",Object(g.jsx)("span",{style:{float:"right"},children:c.classList[e].days})]}),Object(g.jsxs)("div",{children:[c.classList[e].building," ",Object(g.jsx)("span",{style:{float:"right"},children:c.classList[e].time})]}),Object(g.jsxs)("div",{children:["Room ",c.classList[e].room]}),Object(g.jsx)("button",{className:"classes-button",onClick:function(){return n(function(e,t){var a=e.classList;return a.splice(t,1),Object(N.a)(Object(N.a)({},e),{},{classList:a})}(c,e))},children:"Remove"})]},c.keyVal++);b.push(t)},m=0;m<c.classList.length;m++)h(m);return 0===b.length&&(b=Object(g.jsxs)("div",{className:"classes-list-item",children:[Object(g.jsx)("div",{children:"No classes scheduled :("}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:"Try refreshing the page? Or add class through the add button!"}),Object(g.jsx)(A.a,{variant:"contained",endIcon:Object(g.jsx)(W.a,{}),id:"classes-return",onClick:function(){return n(Object(N.a)(Object(N.a)({},c),{},{loaded:!1,validID:!1}))},children:"Refresh"})]})),!1===c.loaded?Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"classes-dashboard",children:[Object(g.jsx)("span",{className:"classes-title",children:"Class Schedule"}),Object(g.jsx)("div",{className:"classes-list",id:"classes-list",children:Object(g.jsx)("div",{className:"classes-list-item",children:Object(g.jsx)("div",{children:"LOADING DATA..."})})})]})}):!0===c.loaded&&!1===c.validID?Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"classes-dashboard",children:[Object(g.jsx)("span",{className:"classes-title",children:"Class Schedule"}),Object(g.jsx)("div",{className:"classes-list",id:"classes-list",children:Object(g.jsxs)("div",{className:"classes-list-item",children:[Object(g.jsx)("div",{children:"Invalid login credentials."}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:"Please login again."}),Object(g.jsx)(i.b,{to:"/login",children:Object(g.jsx)(A.a,{variant:"contained",endIcon:Object(g.jsx)(W.a,{}),id:"classes-return",children:"Login"})})]})})]})}):Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"classes-dashboard",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:"classes-title",children:"Class Schedule"}),Object(g.jsx)("button",{className:"classes-button",id:"classes-add",onClick:P,children:"Add Class"})]}),Object(g.jsxs)("div",{className:"classes-list",id:"classes-list",children:[Object(g.jsxs)("div",{className:"classes-list-item",children:[Object(g.jsxs)("div",{style:{textAlign:"center"},children:["Welcome ",c.email," (#",c.userID,")"]}),Object(g.jsxs)("div",{style:{textAlign:"center"},children:["Showing ",c.classList.length," Selected Classes"]})]}),b]}),Object(g.jsxs)("div",{className:"classes-menu",id:"classes-menu",children:[Object(g.jsxs)(M.a,{className:e.formControl,children:[Object(g.jsx)(T.a,{id:"demo-simple-select-label",children:"Class"}),Object(g.jsx)(B.a,{labelId:"demo-simple-select-label",id:"classes-menu-name",value:c.name,name:"name",onChange:l,children:c.classSelectDOM})]}),Object(g.jsxs)(M.a,{className:e.formControl,children:[Object(g.jsx)(T.a,{id:"demo-simple-select-label",children:"Days"}),Object(g.jsxs)(B.a,{labelId:"demo-simple-select-label",id:"classes-menu-days",value:c.days,name:"days",onChange:l,children:[Object(g.jsx)(E.a,{value:"Mon Wed Fri",children:"Mon Wed Fri"}),Object(g.jsx)(E.a,{value:"Mon Wed",children:"Mon Wed"}),Object(g.jsx)(E.a,{value:"Tues Thurs",children:"Tues Thurs"}),Object(g.jsx)(E.a,{value:"Mon",children:"Mon"}),Object(g.jsx)(E.a,{value:"Tues",children:"Tues"}),Object(g.jsx)(E.a,{value:"Wed",children:"Wed"}),Object(g.jsx)(E.a,{value:"Thurs",children:"Thurs"}),Object(g.jsx)(E.a,{value:"Fri",children:"Fri"})]})]}),Object(g.jsxs)(M.a,{className:e.formControl,children:[Object(g.jsx)(T.a,{id:"demo-simple-select-label",children:"Building"}),Object(g.jsx)(B.a,{labelId:"demo-simple-select-label",id:"classes-menu-building",value:c.building,name:"building",onChange:l,children:c.buildingSelectDOM})]}),Object(g.jsx)("br",{}),Object(g.jsxs)(M.a,{className:e.formControl,children:[Object(g.jsx)(T.a,{id:"demo-simple-select-label",children:"Hour"}),Object(g.jsxs)(B.a,{labelId:"demo-simple-select-label",id:"classes-menu-hour",value:c.hour,name:"hour",onChange:l,children:[Object(g.jsx)(E.a,{value:"1",children:"1"}),Object(g.jsx)(E.a,{value:"2",children:"2"}),Object(g.jsx)(E.a,{value:"3",children:"3"}),Object(g.jsx)(E.a,{value:"4",children:"4"}),Object(g.jsx)(E.a,{value:"5",children:"5"}),Object(g.jsx)(E.a,{value:"6",children:"6"}),Object(g.jsx)(E.a,{value:"7",children:"7"}),Object(g.jsx)(E.a,{value:"8",children:"8"}),Object(g.jsx)(E.a,{value:"9",children:"9"}),Object(g.jsx)(E.a,{value:"10",children:"10"}),Object(g.jsx)(E.a,{value:"11",children:"11"}),Object(g.jsx)(E.a,{value:"12",children:"12"}),Object(g.jsx)(E.a,{value:"13",children:"13"}),Object(g.jsx)(E.a,{value:"14",children:"14"}),Object(g.jsx)(E.a,{value:"15",children:"15"}),Object(g.jsx)(E.a,{value:"16",children:"16"}),Object(g.jsx)(E.a,{value:"17",children:"17"}),Object(g.jsx)(E.a,{value:"18",children:"18"}),Object(g.jsx)(E.a,{value:"19",children:"19"}),Object(g.jsx)(E.a,{value:"20",children:"20"}),Object(g.jsx)(E.a,{value:"21",children:"21"}),Object(g.jsx)(E.a,{value:"22",children:"22"}),Object(g.jsx)(E.a,{value:"23",children:"23"}),Object(g.jsx)(E.a,{value:"24",children:"24"})]})]}),Object(g.jsxs)(M.a,{className:e.formControl,children:[Object(g.jsx)(T.a,{id:"demo-simple-select-label",children:"Minute"}),Object(g.jsxs)(B.a,{labelId:"demo-simple-select-label",id:"classes-menu-minute",value:c.minute,name:"minute",onChange:l,children:[Object(g.jsx)(E.a,{value:"00",children:"00"}),Object(g.jsx)(E.a,{value:"05",children:"05"}),Object(g.jsx)(E.a,{value:"10",children:"10"}),Object(g.jsx)(E.a,{value:"15",children:"15"}),Object(g.jsx)(E.a,{value:"20",children:"20"}),Object(g.jsx)(E.a,{value:"25",children:"25"}),Object(g.jsx)(E.a,{value:"30",children:"30"}),Object(g.jsx)(E.a,{value:"35",children:"35"}),Object(g.jsx)(E.a,{value:"40",children:"40"}),Object(g.jsx)(E.a,{value:"45",children:"45"}),Object(g.jsx)(E.a,{value:"50",children:"50"}),Object(g.jsx)(E.a,{value:"55",children:"55"})]})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)(M.a,{className:e.margin,children:[Object(g.jsx)(T.a,{htmlFor:"classes-menu-roomNum",children:"Room"}),Object(g.jsx)(J,{id:"classes-menu-roomNum",value:c.room,name:"room",onChange:l})]}),Object(g.jsx)("div",{className:"classes-add-error",id:"classes-add-error",children:"Please make sure that all items have been selected."})]}),Object(g.jsx)("button",{className:"classes-button",id:"classes-create",onClick:function(){return n(function(e){if(""===e.name||""===e.days||""===e.building||""===e.hour||""===e.minute||"room"===e.room)return document.getElementById("classes-add-error").style.display="block",e;document.getElementById("classes-add-error").style.display="none";var t={name:e.name,days:e.days,building:e.building,time:e.hour+":"+e.minute+":00",room:e.room},a=e.classList;return a.push(t),P(),Object(N.a)(Object(N.a)({},e),{},{classList:a})}(c))},children:"Add New Class"}),Object(g.jsx)(A.a,{variant:"contained",endIcon:Object(g.jsx)(W.a,{}),id:"classes-save",onClick:function(){return function(e,t){var a=e.classList;Object(k.a)(S.a.mark((function s(){var c,n;return S.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:c=0;case 1:if(!(c<a.length)){s.next=9;break}return s.next=4,f.a.get(e.backend+"/buildings",{params:{name:"'"+a[c].building+"'"}});case 4:n=s.sent,a[c].building=n.data.results[0].id;case 6:c++,s.next=1;break;case 9:f.a.post(e.backend+"/saveclasses",{userID:e.userID,classList:a}).then(t(Object(N.a)(Object(N.a)({},e),{},{loaded:!1,validID:!1}))).catch((function(e){console.log(e)}));case 10:case"end":return s.stop()}}),s)})))()}(c,n)},children:"Save Classes"}),Object(g.jsx)("a",{href:"#/",children:Object(g.jsx)(A.a,{variant:"contained",endIcon:Object(g.jsx)(W.a,{}),id:"classes-return",children:"Return to Map"})})]})})}function P(){"none"!==document.getElementById("classes-list").style.display?(document.getElementById("classes-list").style.display="none",document.getElementById("classes-save").style.display="none",document.getElementById("classes-return").style.display="none",document.getElementById("classes-add").innerHTML="Go Back",document.getElementById("classes-menu").style.display="block",document.getElementById("classes-create").style.display="block",document.getElementById("classes-add-error").style.display="none"):(document.getElementById("classes-list").style.display="block",document.getElementById("classes-save").style.display="flex",document.getElementById("classes-return").style.display="flex",document.getElementById("classes-menu").style.display="none",document.getElementById("classes-add").innerHTML="Add Class",document.getElementById("classes-create").style.display="none")}var R=Object(w.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),J=Object(D.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}}))(L.c),z=a(42),H=a(43),_=a(75),V=a(82),G=a(81),Z=a(391),q=a(238),K=a(155),Y=a(392),Q=a(227),X=a.n(Q),$=a(396),ee=a(403),te=function(e){Object(V.a)(a,e);var t=Object(G.a)(a);function a(e){var s;return Object(z.a)(this,a),(s=t.call(this,e)).getData=Object(k.a)(S.a.mark((function e(){var t,a,c,n,l,i,r,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("user")){e.next=14;break}return t=localStorage.getItem("user")&&localStorage.getItem("user")[0]?JSON.parse(localStorage.getItem("user"))[0]:{},a=t?t.id:-1,e.next=5,f.a.get("https://cs326-umap-amherst.herokuapp.com/pitstops");case 5:return c=e.sent,e.next=8,f.a.get("https://cs326-umap-amherst.herokuapp.com/userpitstops",{params:{userID:a}});case 8:n=e.sent,l=c.data,i=n.data.results,r=n.data.results.map((function(e){return e.stopid})),o=l.results.map((function(e){return e.time=new Date,e.selected=0!==i.filter((function(t){return t.stopid===e.id})).length,!0===e.selected&&(e.time=new Date(i.filter((function(t){return t.stopid===e.id}))[0].stoptime)),e})),s.setState({rows:o,selected:r});case 14:case"end":return e.stop()}}),e)}))),s.state={search:"",columns:[{field:"location",headerName:"Location",description:"This column has the location of pit stops",sortable:!0,width:300},{field:"time",headerName:"Time",description:"This column has the time selector",sortable:!1,width:300,renderCell:function(e){return Object(g.jsx)(Z.b,{dateAdapter:Y.a,children:Object(g.jsx)($.a,{renderInput:function(e){return Object(g.jsx)(q.a,Object(N.a)(Object(N.a)({},e),{},{helperText:null}))},inputFormat:"EEEE - hh:mm a",openTo:"date",value:s.state.rows[e.row.id].time,disabled:!s.state.rows[e.row.id].selected,onChange:function(t){var a=s.state.rows;a[e.row.id].time=t,s.setState({rows:a})}})})}}],rows:[],selected:[]},s.searchFilter=s.searchFilter.bind(Object(_.a)(s)),s.handleChange=s.handleChange.bind(Object(_.a)(s)),s.getData=s.getData.bind(Object(_.a)(s)),s.saveData=s.saveData.bind(Object(_.a)(s)),s}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"saveData",value:function(){if(localStorage.getItem("user")){var e=localStorage.getItem("user")&&localStorage.getItem("user")[0]?JSON.parse(localStorage.getItem("user"))[0]:{},t=e?e.id:-1;f.a.post("https://cs326-umap-amherst.herokuapp.com/savepitstops",{userID:t,rows:this.state.rows.filter((function(e){return!0===e.selected}))}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}}},{key:"handleChange",value:function(e){this.setState({search:e.target.value})}},{key:"searchFilter",value:function(e){var t=""===this.state.search.trim()||e.location.toLowerCase().includes(this.state.search.toLowerCase()),a=e.selected&&e.time.toLocaleDateString("en-US",{weekday:"long",hour:"numeric",minute:"numeric"}).toLowerCase().includes(this.state.search.toLowerCase());return t||a}},{key:"render",value:function(){var e=this,t=Object(w.a)((function(e){return{margin:{margin:e.spacing(1)}}}));return Object(g.jsx)("div",{children:Object(g.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:3,children:[Object(g.jsx)(d.a,{item:!0,xs:12,children:Object(g.jsx)(u.a,{variant:"h4",children:"Schedule Pit Stops"})}),Object(g.jsx)(d.a,{item:!0,xs:12,children:Object(g.jsx)(b.a,{children:Object(g.jsxs)(j.a,{children:[Object(g.jsx)("div",{className:t.margin,children:Object(g.jsx)(d.a,{container:!0,spacing:1,alignItems:"flex-end",children:Object(g.jsx)(d.a,{item:!0,children:Object(g.jsxs)(M.a,{variant:"filled",children:[Object(g.jsx)(T.a,{htmlFor:"component-filled",children:"Search"}),Object(g.jsx)(ee.a,{id:"component-filled",value:this.state.search,onChange:this.handleChange})]})})})}),Object(g.jsx)(K.a,{autoHeight:!0,disableColumnFilter:!0,density:"headerHeight",rows:this.state.rows.filter(this.searchFilter),columns:this.state.columns.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{disableClickEventBubbling:!0})})),pageSize:5,checkboxSelection:!0,selectionModel:this.state.selected,onRowSelected:function(t){var a=e.state.rows;a[t.data.id].selected=t.isSelected,e.setState({rows:a})},components:{NoRowsOverlay:ae}})]})})}),Object(g.jsx)(d.a,{item:!0,xs:12,children:Object(g.jsx)(d.a,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:Object(g.jsxs)(d.a,{item:!0,xs:12,style:{textAlign:"right"},children:[Object(g.jsx)(i.b,{to:"/",style:{textDecoration:"none",marginRight:"20px"},children:Object(g.jsx)(A.a,{variant:"contained",endIcon:Object(g.jsx)(W.a,{}),children:"Return to Map"})}),Object(g.jsx)(A.a,{disabled:!localStorage.getItem("user"),variant:"contained",endIcon:Object(g.jsx)(X.a,{}),onClick:this.saveData,children:"Save Pit Stops"})]})})})]})})}}]),a}(c.a.Component);function ae(){return Object(g.jsx)(K.b,{children:Object(g.jsx)("div",{children:"User is not logged in"})})}var se=a(228),ce=a.n(se),ne=a(229),le=a.n(ne),ie=a(393),re=a(406),oe=a(405),de=a(394),je=a(407),ue=a(230),be=a.n(ue);function he(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],n=function(){c(!1)},l=Object(s.useState)(""),i=Object(o.a)(l,2),r=i[0],j=(i[1],Object(s.useState)("")),u=Object(o.a)(j,2),b=u[0],h=u[1],m=Object(s.useState)(""),O=Object(o.a)(m,2),x=O[0],p=O[1],v=Object(s.useState)(""),y=Object(o.a)(v,2),I=y[0],C=y[1],S=Object(s.useState)(""),N=Object(o.a)(S,2),k=N[0],w=N[1],D=Object(s.useState)(""),T=Object(o.a)(D,2),E=T[0],L=T[1],M=Object(s.useState)(""),B=Object(o.a)(M,2),F=B[0],W=B[1],U=Object(s.useState)(""),P=Object(o.a)(U,2),R=P[0],J=P[1];return Object(g.jsxs)("div",{className:"page",children:[Object(g.jsx)("div",{className:"title",children:"UMap Amherst"}),Object(g.jsx)("div",{className:"loginTitle",children:"Login"}),Object(g.jsxs)("div",{className:"emailField",children:[Object(g.jsx)(d.a,{className:"emailIcon",children:Object(g.jsx)(ce.a,{})}),Object(g.jsx)(q.a,{label:"Email Address",variant:"outlined",error:""===F,onChange:function(e){return W(e.target.value)}})]}),Object(g.jsxs)("div",{className:"passwordField",children:[Object(g.jsx)(d.a,{className:"passwordIcon",children:Object(g.jsx)(le.a,{})}),Object(g.jsx)(q.a,{label:"Password",type:"Password",variant:"outlined",error:""===R,onChange:function(e){return J(e.target.value)}})]}),Object(g.jsx)("div",{className:"loginButton",children:Object(g.jsx)(A.a,{variant:"contained",onClick:function(){f.a.post("https://cs326-umap-amherst.herokuapp.com/savelogin",{email:F,password:R}).then((function(e){var t=[{email:F,id:e.data.id}];console.log(e),localStorage.setItem("user",JSON.stringify(t)),window.location.href="/CS326-UMap-Amherst-Frontend/#"})).catch((function(e){console.log(e)}))},disabled:""===F||""===R,children:"Login"})}),Object(g.jsxs)("div",{className:"createAccount",children:[Object(g.jsx)(A.a,{onClick:function(){c(!0)},children:"Create Account"}),Object(g.jsxs)(ie.a,{open:a,className:"form",children:[Object(g.jsx)(je.a,{className:"formTitle",children:" Create Account "}),Object(g.jsx)(d.a,{className:"contactIcon",children:Object(g.jsx)(be.a,{style:{fontSize:45}})}),Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(de.a,{className:"formHeader",children:"Please fill in each of the fields below."}),Object(g.jsx)(q.a,{label:"First Name",variant:"outlined",margin:"dense",error:""===b,onChange:function(e){return h(e.target.value)},fullWidth:!0}),Object(g.jsx)(q.a,{label:"Last Name",variant:"outlined",margin:"dense",error:""===x,onChange:function(e){return p(e.target.value)},fullWidth:!0}),Object(g.jsx)(q.a,{label:"Major",variant:"outlined",margin:"dense",error:""===I,onChange:function(e){return C(e.target.value)},fullWidth:!0}),Object(g.jsx)(q.a,{label:"Email Address",variant:"outlined",margin:"dense",error:""===k,onChange:function(e){return w(e.target.value)},fullWidth:!0}),Object(g.jsx)(q.a,{label:"Password",type:"Password",variant:"outlined",margin:"dense",error:""===E,onChange:function(e){return L(e.target.value)},fullWidth:!0})]}),Object(g.jsxs)(re.a,{children:[Object(g.jsx)(A.a,{onClick:n,children:"Close"}),Object(g.jsx)(A.a,{onClick:function(){f.a.post("https://cs326-umap-amherst.herokuapp.com/savesignup",{id:r,firstName:b,lastName:x,major:I,emailAddress:k,password:E}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),n()},disabled:""===b||""===x||""===I||""===k||""===E,children:"Sign Up"})]})]})]})]})}var me=a(408),Oe=a(404),xe=a(395);function ge(){return Object(g.jsx)(d.a,{item:!0,xs:8,className:"innerPage",children:Object(g.jsx)(U,{})})}function pe(){return Object(g.jsx)(d.a,{item:!0,xs:10,className:"innerPage",children:Object(g.jsx)(y,{})})}function ve(){return Object(g.jsx)(d.a,{item:!0,xs:8,className:"innerPage",children:Object(g.jsx)(te,{})})}function fe(){return Object(g.jsx)(d.a,{item:!0,xs:4,className:"innerPage",children:Object(g.jsx)(he,{})})}function ye(){return Object(g.jsxs)(i.a,{basename:"/",children:[Object(g.jsx)(me.a,{position:"sticky",children:Object(g.jsxs)(Oe.a,{variant:"dense",children:[Object(g.jsx)(i.b,{to:"/",edge:"start",children:Object(g.jsx)(O.a,{children:Object(g.jsx)(xe.a,{})})}),Object(g.jsx)(u.a,{variant:"h6",children:"UMap Amherst"})]})}),Object(g.jsx)(d.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",className:"pageContainer",children:Object(g.jsxs)(r.c,{children:[Object(g.jsx)(r.a,{path:"/",exact:!0,component:pe}),Object(g.jsx)(r.a,{path:"/classes",component:ge}),Object(g.jsx)(r.a,{path:"/stops",component:ve}),Object(g.jsx)(r.a,{path:"/login",component:fe})]})})]})}a(314),a(315),a(316);l.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(ye,{})}),document.getElementById("root"))}},[[317,1,2]]]);
//# sourceMappingURL=main.6c91d026.chunk.js.map